(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Preview"],{"17f6":function(t,e,i){},"7e5f":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"success"},[i("i",{staticClass:"pic"})]),i("h3",[t._v("提交成功")])])}],r=(i("db71"),i("2877")),a={},o=Object(r["a"])(a,n,s,!1,null,"50a1b640",null);e["default"]=o.exports},ae8e:function(t,e,i){},db71:function(t,e,i){"use strict";i("ae8e")},e6c4:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"preview"},[i("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.webRoot+"pdf_viewer/web/viewer.html?file="+t.pdfUrl,frameborder:"0"}}),t.params.id?i("button",{staticClass:"back",class:{btnDisabled:t.btnDisabled},attrs:{disabled:t.btnDisabled},on:{click:t.end}},[t._v(" 我已阅读 "),i("span",{ref:"countdown",staticClass:"countdown"},[t._v("(10s)")])]):t._e()])},s=[],r=(i("ac1f"),i("1276"),i("b85c")),a={name:"Preview",data:function(){return{pdfUrl:"",params:{id:null,busiCode:null,token:null},maxtime:3,webRoot:"/elecApplicant/",btnDisabled:!0}},props:{url:{type:String,require:!1}},methods:{getFormatUrl:function(t){var e=t.split("?")[1];if(e){var i,n=Object(r["a"])(e.split("&"));try{for(n.s();!(i=n.n()).done;){var s=i.value,a=s.split("=")[0],o=s.split("=")[1];if("pdfUrl"===a)return o}}catch(u){n.e(u)}finally{n.f()}}},countDown:function(){if(this.maxtime>0){--this.maxtime;var t="("+this.maxtime+"s)";this.$refs.countdown.innerText=t}else clearInterval(this.timer),this.btnDisabled=!1,this.$refs.countdown.style.display="none"},end:function(){var t=document.getElementsByTagName("iframe")[0],e=t.contentWindow.document;if(e&&e.getElementById("pageNumber")){var i=e.getElementById("pageNumber").value,n=e.getElementById("numPages").innerText.substring(2);console.log("currentpage"+i),console.log("totalpage"+n),"0"!==n&&(i===n?this.$router.push("/"):this.$toast("请先阅读完以上内容","error",2e3))}},back:function(){window.history.go(-1)}},mounted:function(){var t=this;this.pdfUrl=this.getFormatUrl(window.location.href),console.log(this.$route.query),this.$route.query.id&&(this.params.id=this.$route.query.id,this.$nextTick((function(){t.timer=setInterval(t.countDown,1e3)}))),this.$route.query.busiCode&&(this.params.busiCode=this.$route.query.busiCode),this.$route.query.id&&(this.params.token=this.$route.query.token)}},o=a,u=(i("f79b"),i("2877")),l=Object(u["a"])(o,n,s,!1,null,"30773ade",null);e["default"]=l.exports},f79b:function(t,e,i){"use strict";i("17f6")}}]);
//# sourceMappingURL=Preview.767b91a8.js.map